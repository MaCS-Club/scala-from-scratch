---
author: ùï≠ùñäùñéùñÖùñäùñóùñî
title: –†–µ–∫—É—Ä—Å–∏—è
<!-- date: January 28, 2018 -->
---

## –£—Å–ª–æ–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–î–ª—è –≤—ã–±–æ—Ä–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏ –≤ Scala –µ—Å—Ç—å —É—Å–ª–æ–≤–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `if-else`

```scala
def abs(x: Double) = if (x >= 0) x else -x
```

## –ë—É–ª–µ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–ë—É–ª–µ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑

```scala
true  false      // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
!b               // –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ
b && b           // –ö–æ–Ω—ä—é–Ω–∫—Ü–∏—è
b || b           // –î–∏–∑—ä—é–Ω–∫—Ü–∏—è
```

–∏ –∏–∑ –æ–±—ã—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```scala
e <= e, e >= e, e < e, e > e, e == e, e != e
```

## –†–µ–¥—É–∫—Ü–∏—è –±—É–ª–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–ü—Ä–∞–≤–∏–ª–∞ —Ä–µ–¥—É–∫—Ü–∏–∏ –¥–ª—è –±—É–ª–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π(`e` –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ):

```scala
!true --> false
!false --> true
true && e --> e
false && e --> false
true || e --> true
false || e --> e
```

## –†–µ–¥—É–∫—Ü–∏—è –±—É–ª–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `&&` –∏ `||` –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–µ–Ω –∏—Ö –ø—Ä–∞–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.

–ì–æ–≤—Ä—è—Ç —á—Ç–æ —Ç–∞–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –ø–æ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–π —Å—Ö–µ–º–µ (short-circuit evaluation).

## –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –∫–æ—Ä–Ω—è

–û–ø—Ä–µ–¥–µ–ª–∏–º –º–µ—Ç–æ–¥

```scala
/** Calculates the square root of parameter x */
def sqrt(x: Double): Double = ...
```

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ –ù—å—é—Ç–æ–Ω–∞.

## –ú–µ—Ç–æ–¥ –ù—å—é—Ç–æ–Ω–∞

–î–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `sqrt(x)`:

* –°—Ç–∞—Ä—Ç—É–µ–º —Å –Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ `y`(–≤–æ–∑—å–º—ë–º `y = 1`)
* –ü–æ–≤—Ç–æ—Ä—è—è—Å—å —É–ª—É—á—à–∞–µ–º –æ—Ü–µ–Ω–∫—É –±–µ—Ä—è —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `y` –∏ `x / y`

## –ú–µ—Ç–æ–¥ –ù—å—é—Ç–æ–Ω–∞

–ü—Ä–∏–º–µ—Ä:

| –û—Ü–µ–Ω–∫–∞ | –ß–∞—Å—Ç–Ω–æ–µ               | –°—Ä–µ–¥–Ω–µ–µ |
|--------|-----------------------|---------|
| 1      | 2 / 1 = 2             | 1.5     |
| 1.5    | 2 / 1.5 = 1.333       | 1.4167  |
| 1.4167 | 2 / 1.4167 = 1.4118   | 1.4142  |
| 1.4142 | ...                   | ...     |

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Scala

–°–Ω–∞—á–∞–ª–∞ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–¥–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏—é:

```scala
def sqrtIter(guess: Double, x: Double): Double =
  if (isGoodEnough(guess, x)) guess
  else sqrtIter(improve(guess, x), x)
```

##

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `sqrtIter` —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞ —Ç.–∫. –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º–∞ —Å–µ–±—è.

–î–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ Scala –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

–î–ª—è –Ω–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —ç—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Scala

–ó–∞—Ç–µ–º –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –º–µ—Ç–æ–¥ `improve` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ –∏ —Ç–µ—Ä–º–∏–Ω–∏—Ä—É—é—â–µ–µ —É—Å–ª–æ–≤–∏–µ `isGoodEnough`:

```scala
def improve(guess: Double, x: Double) =
  (guess + x / guess) / 2

def isGoodEnough(guess: Double, x: Double) =
  abs(guess * guess - x) < 0.001
```

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Scala

–ù—É –∏ –Ω–∞–∫–æ–Ω–µ—Ü –æ–ø—Ä–µ–¥–µ–ª–∏–º —Ñ—É–Ω–∫—Ü–∏—é `sqrt`:

```scala
def sqrt(x: Double) = sqrtIter(1.0, x)
```

## –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–†–∞–∑–±–∏–µ–Ω–∏–µ –±–æ–ª—å—à–æ–π –∑–∞–¥–∞—á–∏ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.

–ù–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ä–æ–¥–µ `improve`, `isGoodEnough` –∏ `sqrtIter` –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `sqrt` –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∏–º –Ω–∞–ø—Ä—è–º—É—é.

## –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ß—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä—è–∑–Ω—è—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –∏—Ö –≤–Ω—É—Ç—Ä—å `sqrt`:
```scala
def sqrt(x: Double) = {
  def sqrtIter(guess: Double, x: Double): Double =
    if (isGoodEnough(guess, x)) guess
    else sqrtIter(improve(guess, x), x)

  def improve(guess: Double, x: Double) =
    (guess + x / guess) / 2

  def isGoodEnough(guess: Double, x: Double) =
    abs(square(guess) - x) < 0.001

  sqrtIter(1.0, x)
}
```
