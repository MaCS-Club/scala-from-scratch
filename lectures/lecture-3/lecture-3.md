---
author: ùï≠ùñäùñéùñÖùñäùñóùñî
title: –†–µ–∫—É—Ä—Å–∏—è
<!-- date: January 28, 2018 -->
---

## –£—Å–ª–æ–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–î–ª—è –≤—ã–±–æ—Ä–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏ –≤ Scala –µ—Å—Ç—å —É—Å–ª–æ–≤–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `if-else`

```scala
def abs(x: Double) = if (x >= 0) x else -x
```

## –ë—É–ª–µ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–ë—É–ª–µ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑

```scala
true  false      // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
!b               // –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ
b && b           // –ö–æ–Ω—ä—é–Ω–∫—Ü–∏—è
b || b           // –î–∏–∑—ä—é–Ω–∫—Ü–∏—è
```

–∏ –∏–∑ –æ–±—ã—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```scala
e <= e, e >= e, e < e, e > e, e == e, e != e
```

## –†–µ–¥—É–∫—Ü–∏—è –±—É–ª–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–ü—Ä–∞–≤–∏–ª–∞ —Ä–µ–¥—É–∫—Ü–∏–∏ –¥–ª—è –±—É–ª–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π(`e` –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ):

```scala
!true --> false
!false --> true
true && e --> e
false && e --> false
true || e --> true
false || e --> e
```

## –†–µ–¥—É–∫—Ü–∏—è –±—É–ª–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `&&` –∏ `||` –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–µ–Ω –∏—Ö –ø—Ä–∞–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.

–ì–æ–≤—Ä—è—Ç —á—Ç–æ —Ç–∞–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –ø–æ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–π —Å—Ö–µ–º–µ (short-circuit evaluation).

## –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –∫–æ—Ä–Ω—è

–û–ø—Ä–µ–¥–µ–ª–∏–º –º–µ—Ç–æ–¥

```scala
/** Calculates the square root of parameter x */
def sqrt(x: Double): Double = ...
```

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ –ù—å—é—Ç–æ–Ω–∞.

## –ú–µ—Ç–æ–¥ –ù—å—é—Ç–æ–Ω–∞

–î–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `sqrt(x)`:

* –°—Ç–∞—Ä—Ç—É–µ–º —Å –Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ `y`(–≤–æ–∑—å–º—ë–º `y = 1`)
* –ü–æ–≤—Ç–æ—Ä—è—è—Å—å —É–ª—É—á—à–∞–µ–º –æ—Ü–µ–Ω–∫—É –±–µ—Ä—è —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `y` –∏ `x / y`

## –ú–µ—Ç–æ–¥ –ù—å—é—Ç–æ–Ω–∞

–ü—Ä–∏–º–µ—Ä:

| –û—Ü–µ–Ω–∫–∞ | –ß–∞—Å—Ç–Ω–æ–µ               | –°—Ä–µ–¥–Ω–µ–µ |
|--------|-----------------------|---------|
| 1      | 2 / 1 = 2             | 1.5     |
| 1.5    | 2 / 1.5 = 1.333       | 1.4167  |
| 1.4167 | 2 / 1.4167 = 1.4118   | 1.4142  |
| 1.4142 | ...                   | ...     |

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Scala

–°–Ω–∞—á–∞–ª–∞ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–¥–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏—é:

```scala
def sqrtIter(guess: Double, x: Double): Double =
  if (isGoodEnough(guess, x)) guess
  else sqrtIter(improve(guess, x), x)
```

##

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `sqrtIter` —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞ —Ç.–∫. –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º–∞ —Å–µ–±—è.

–î–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ Scala –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

–î–ª—è –Ω–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —ç—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Scala

–ó–∞—Ç–µ–º –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –º–µ—Ç–æ–¥ `improve` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ –∏ —Ç–µ—Ä–º–∏–Ω–∏—Ä—É—é—â–µ–µ —É—Å–ª–æ–≤–∏–µ `isGoodEnough`:

```scala
def improve(guess: Double, x: Double) =
  (guess + x / guess) / 2

def isGoodEnough(guess: Double, x: Double) =
  abs(guess * guess - x) < 0.001
```

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Scala

–ù—É –∏ –Ω–∞–∫–æ–Ω–µ—Ü –æ–ø—Ä–µ–¥–µ–ª–∏–º —Ñ—É–Ω–∫—Ü–∏—é `sqrt`:

```scala
def sqrt(x: Double) = sqrtIter(1.0, x)
```

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

–î–∞–≤–∞–π—Ç–µ —Å—Ä–∞–≤–Ω–∏–º —ç—Ç–∞–ø—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–≤—É—Ö —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

##

–ü–µ—Ä–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –±—É–¥–µ—Ç `gcd` –≤—ã—á–∏—Å–ª—è—é—â–µ–π –Ω–∞–∏–±–æ–ª—å—à–∏–π –æ–±—â–∏–π –¥–µ–ª–∏—Ç–µ–ª—å –¥–≤—É—Ö —á–∏—Å–µ–ª –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –ï–≤–∫–ª–∏–¥–∞.

```scala
def gcd(a: Int, b: Int): Int =
  if (b == 0) a else gcd(b, a % b)
```

## –í—ã—á–∏—Å–ª–µ–Ω–∏–µ gcd

```scala
gcd(14, 21)
if (21 == 0) 14 else gcd(21, 14 % 21)
if (false) 14 else gcd(21, 14 % 21)
gcd(21, 14 % 21)
gcd(21, 14)
if (14 == 0) 21 else gcd(14, 21 % 14)
if (false) 21 else gcd(14, 21 % 14)
gcd(14, 7)
gcd(7, 14 % 7)
gcd(7, 0)
if (0 == 0) 7 else gcd(0, 7 % 0)
if (true) 7 else gcd(0, 7 % 0)
7
```

##

–í—Ç–æ—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –±—É–¥–µ—Ç `factorial`:

```scala
def factorial(n: Int): Int =
  if (n == 0) 1 else n * factorial(n - 1)
```

## –í—ã—á–∏—Å–ª–µ–Ω–∏–µ factorial

```scala
factorial(4)
if (4 == 0) 1 else 4 * factorial(4 - 1)
4 * factorial(3)
4 * (3 * factorial(2))
4 * (3 * (2 * factorial(1)))
4 * (3 * (2 * (1 * factorial(0)))
4 * (3 * (2 * (1 * 1)))
24
```

##

–†–∞–∑–ª–∏—á–∏–µ –≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ç–æ–º, —á—Ç–æ `gcd` –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏ –ø–æ—Ç–æ–º –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –∞ `factorial` –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –¥–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∫ –≤—ã—Ä–∞–∂–µ–Ω–∏—é –∫–æ—Ç–æ—Ä–æ–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å—ë –±–æ–ª—å—à–µ –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ä–µ–¥—É—Ü–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.

##

–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —ç—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ `gcd` –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ–±—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º, –∞ `factorial` –ø–æ—Å–ª–µ–¥–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç —É–º–Ω–æ–∂–µ–Ω–∏–µ.

```scala
def gcd(a: Int, b: Int): Int =
  if (b == 0) a else gcd(b, a % b)

def factorial(n: Int): Int =
  if (n == 0) 1 else n * factorial(n - 1)
```

## –•–≤–æ—Å—Ç–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è

–†–∞–∑–Ω–∏—Ü–∞ –≤ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ç–∞–∫ –∂–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º.

–ï—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞—é—â–∞—è —Å–µ–±—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º, —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–µ –¥–ª—è –Ω–µ—ë –º–µ—Å—Ç–æ –Ω–∞ —Å—Ç–µ–∫–µ.

–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ö–≤–æ—Å—Ç–æ–≤–æ–π —Ä–µ–∫—É—Ä—Å–∏–µ–π.

## –•–≤–æ—Å—Ç–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è

–ü–æ–ª—å–∑—É—è—Å—å —ç—Ç–æ–π —Ö–∏—Ç—Ä–æ—Å—Ç—å—é –º–æ–∂–Ω–æ –¥–æ–±–∏—Ç—å—Å—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —Ö–≤–æ—Å—Ç–æ–≤—É—é —Ä–µ–∫—É—Ä—Å–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –¥–ª—è —Å–≤–æ–µ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ —Å—Ç–µ–∫–µ.

## –•–≤–æ—Å—Ç–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è –≤ Scala

–ú–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —Ö–≤–æ—Å—Ç–æ–≤—É—é —Ä–µ–∫—É—Ä—Å–∏—é —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@tailrec`:

```scala
@tailrec
def gcd(a: Int, b: Int): Int = ‚Ä¶
```

–ï—Å–ª–∏ –¥–∞–Ω–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Ö–≤–æ—Å—Ç–æ–≤–æ—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è, —Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É.
